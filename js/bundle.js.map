{"version":3,"file":"bundle.js","sources":["../../src/config/config.ts","../../src/GameConfig.ts","../../src/modules/bag/BagWindow.ts","../../src/ui/layer.ts","../../src/ui/register.ts","../../src/ui/core.ts","../../src/ui/HomeUI.ts","../../src/ui/init.ts","../../src/init/gameinit.ts","../../src/login.ts","../../src/gameControl/backpack/BackpackControl.ts","../../src/gameData/DataBase.ts","../../src/gameData/PlayerData.ts","../../src/net/initMessage.ts","../../src/qufu/SecondTimerUtil.ts","../../src/qufu/ServerData.ts","../../src/gameControl/login/UserControl.ts","../../src/gameControl/role/RoleControl.ts","../../src/gameControl/GameObserverManager.ts","../../src/net/MessageHandler.ts","../../src/qufu/GameSocket.ts","../../src/Main.ts"],"sourcesContent":["export const config = {\r\n    ip:'192.168.10.185',\r\n    port:9001,\r\n    uiresPath : 'res/UI/',\r\n    defaultComponentName : 'Main',\r\n}","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n/*\r\n* 游戏初始化配置;\r\n*/\r\nexport default class GameConfig{\r\n    static width:number=640;\r\n    static height:number=1136;\r\n    static scaleMode:string=\"fixedwidth\";\r\n    static screenMode:string=\"none\";\r\n    static alignV:string=\"top\";\r\n    static alignH:string=\"left\";\r\n    static startScene:any=\"test/TestScene.scene\";\r\n    static sceneRoot:string=\"\";\r\n    static debug:boolean=false;\r\n    static stat:boolean=false;\r\n    static physicsDebug:boolean=false;\r\n    static exportSceneToJson:boolean=true;\r\n    constructor(){}\r\n    static init(){\r\n        var reg: Function = Laya.ClassUtils.regClass;\r\n    }\r\n}\r\nGameConfig.init();","export class BagWindow extends fgui.Window {\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    protected onInit(): void {\r\n        super.onInit();\r\n        console.log('onInit');\r\n\r\n        this.center();\r\n    }\r\n\r\n    protected onShown(): void {//这里可以写loading动画\r\n        console.log('onShown');\r\n        var list: fgui.GList = this.contentPane.getChild(\"list\").asList;\r\n        list.on(fgui.Events.CLICK_ITEM, this, this.onClickItem);\r\n        list.itemRenderer = Laya.Handler.create(this, this.renderListItem, null, false);\r\n        list.setVirtual();\r\n        list.numItems = 45;\r\n    }\r\n\r\n    private renderListItem(index: number, obj: fgui.GObject): void {\r\n        obj.icon = \"res/icons/i\" + Math.floor(Math.random() * 10) + \".png\";\r\n        obj.text = \"\" + Math.floor(Math.random() * 100);\r\n    }\r\n\r\n    private onClickItem(item: fgui.GObject): void {\r\n        this.contentPane.getChild(\"n11\").asLoader.url = item.icon;\r\n        this.contentPane.getChild(\"n13\").text = item.icon;\r\n    }\r\n}","export enum LayerType {\r\n    START,\r\n    SCENE,\r\n    GUI,\r\n    POPUP,\r\n    TIPS,\r\n    END\r\n}\r\nclass Layer extends fgui.GRoot {\r\n    type: LayerType;\r\n}\r\nconst layers: { [key: string]: fgui.GComponent } = {};\r\nexport function initLayers() {\r\n    const root = fgui.GRoot.inst;\r\n    for (let type = LayerType.START + 1; type < LayerType.END; type++) {\r\n        const layer = createLayer(type)\r\n        layers[type] = layer;\r\n        root.addChild(layer)\r\n    }\r\n}\r\n\r\nexport function getLayer(type: LayerType) {\r\n    return layers[type]\r\n}\r\nfunction createLayer(type: LayerType) {\r\n    const layer = new Layer();\r\n    // layer.setSize(Laya.stage.width,Laya.stage.height);\r\n    // layer.addRelation(fairygui.GRoot.inst, fairygui.RelationType.Size);\r\n    layer.makeFullScreen();\r\n    layer.type = type;\r\n    return layer\r\n}","const config = {\r\n    gui: {}, win: {}\r\n}\r\n\r\nexport function getGUIConfig(type: PackageType) {\r\n    return config.gui[type]\r\n}\r\nexport function getWinConfig(type: PackageType) {\r\n    return config.win[type]\r\n}\r\n\r\nexport enum PackageType {\r\n    HomeUI = 'HomeUI',\r\n    Bag = 'Bag',\r\n}\r\n\r\n/**\r\n * 注册非弹窗\r\n * @param type \r\n * @param clazz \r\n */\r\nexport function registerGuiItem(type: PackageType, clazz: any) {\r\n    config.gui[type] = clazz;\r\n}\r\n/**\r\n * 注册弹窗\r\n * @param type \r\n * @param clazz \r\n */\r\nexport function registerWinItem(type: PackageType, clazz: any) {\r\n    config.win[type] = clazz;\r\n}\r\n\r\n","import { config } from \"../config/index\";\r\nimport { getLayer, LayerType } from \"./layer\";\r\nimport { getGUIConfig, getWinConfig, PackageType } from \"./register\";\r\nexport interface IBaseUI {\r\n    onInit();\r\n    onShown();\r\n    view: fgui.GComponent;\r\n}\r\nexport interface UIConfig {\r\n    clazz: any;\r\n    packageName: string;\r\n    layer: LayerType;\r\n\r\n}\r\nexport async function showWin(type: PackageType) {\r\n    await loadres(type);\r\n    const clazz = getWinConfig(type);\r\n    const win: fgui.Window = new clazz();\r\n    win.contentPane = fgui.UIPackage.createObject(type, config.defaultComponentName).asCom;\r\n    const popupLayer = getLayer(LayerType.POPUP)\r\n    win.showOn(popupLayer as fgui.GRoot)\r\n}\r\n\r\nexport async function showGUI(packageName: PackageType) {\r\n    const clazz = getGUIConfig(packageName);\r\n    const uiObj: IBaseUI = new clazz();\r\n    uiObj.onInit();\r\n    await loadres(packageName);\r\n    const view = fgui.UIPackage.createObject(packageName, config.defaultComponentName).asCom;\r\n    const guiLayer = getLayer(LayerType.GUI)\r\n    guiLayer.addChild(view);\r\n    uiObj.view = view;\r\n    uiObj.onShown();\r\n}\r\n\r\nexport function hideui(ui) {\r\n    disposeUI();\r\n    fgui.GRoot.inst.removeChild(ui.view);\r\n}\r\n\r\nfunction disposeUI() {\r\n    fgui.UIPackage.removePackage(\"Bag\");\r\n}\r\n\r\nfunction loadres(type: PackageType) {\r\n    return new Promise<any>(resolve => {\r\n        fgui.UIPackage.loadPackage(config.uiresPath + type, Laya.Handler.create(this, resolve));\r\n    })\r\n}\r\n\r\n","import { IBaseUI, showWin } from \"./core\";\r\nimport { PackageType } from \"./register\";\r\n\r\nexport class HomeUI implements IBaseUI {\r\n    view: fgui.GComponent;\r\n\r\n    onInit() {\r\n        console.log('onInit');\r\n    }\r\n\r\n    onShown() {\r\n        console.log('onShown');\r\n        // const target = this.view.parent;\r\n        const view = this.view;\r\n        // view.addRelation(target, fgui.RelationType.Bottom_Bottom);\r\n\r\n        const list = [\r\n            this.view.getChild(\"n8\"),\r\n            this.view.getChild(\"n9\"),\r\n            this.view.getChild(\"n10\"),\r\n            this.view.getChild(\"n11\"),\r\n            this.view.getChild(\"n12\"),\r\n            this.view.getChild(\"n13\"),\r\n        ]\r\n\r\n        const funcnameList = [\r\n            '商城',\r\n            '背包',\r\n            '战斗',\r\n            '天赋',\r\n            '行会',\r\n            '好友',\r\n        ]\r\n\r\n        const packageList:PackageType[] = [\r\n            null,\r\n            PackageType.Bag,\r\n            null,\r\n            null,\r\n            null,\r\n            null,\r\n        ]\r\n\r\n        list.forEach((item, index) => {\r\n            item.addRelation(view, fgui.RelationType.Bottom_Bottom);\r\n            item.y = Laya.stage.height - item.height;\r\n            item.onClick(this, () => {\r\n                if (packageList[index]) {\r\n                    showWin(packageList[index]);\r\n                } else {    \r\n                    alert(funcnameList[index] + '正在开发...');\r\n                }\r\n            })\r\n        })\r\n    }\r\n}","import { initLayers } from \"./layer\";\r\n\r\nexport function initui() {\r\n    initLayers();\r\n}","import { BagWindow } from \"../modules/bag/BagWindow\";\r\nimport { HomeUI, initui, PackageType, registerGuiItem, registerWinItem, showGUI } from \"../ui/index\";\r\n\r\nfunction register() {\r\n    registerGuiItem(PackageType.HomeUI, HomeUI);\r\n    registerWinItem(PackageType.Bag, BagWindow);\r\n    \r\n}\r\n\r\nexport function gameinit() {\r\n    initui();\r\n\r\n    register();\r\n    // new DemoEntry();\r\n    showGUI(PackageType.HomeUI);\r\n\r\n}","export function login() {\r\n\tlet middleVersion = 0;\r\n\r\n\tnet.UserModel.ins().send1(\r\n\t\tjs_gameVars.username,\r\n\t\tjs_gameVars.serverid,\r\n\t\tjs_gameVars.client,\r\n\t\tjs_gameVars.testGame ? \"0\" : js_gameVars.platform,\r\n\t\tmiddleVersion ? middleVersion : 1,\r\n\t\tjs_gameVars.token,\r\n\t\tjs_gameVars.resVersion\r\n\t)\r\n}\r\n\r\nexport function enterGame() {\r\n\tnet.UserModel.ins().send8(js_gameVars.createRoleMsg.lastSel,\"\");\r\n}","\r\nexport class BackpackControl implements IObserver {\r\n    public constructor() { }\r\n\r\n    update(cmd: number, data: any): void {\r\n        switch (cmd) {\r\n            case net.BackpackModelCMD.CMDResBackpackChangedMessage://背包改变\r\n                // gd.backpack.updateData(data);\r\n                break;\r\n            case net.BackpackModelCMD.CMDResBackpackGridMessage://返回背包信息\r\n                // gd.backpack.initData(data);\r\n                break;\r\n            case net.BackpackModelCMD.CMDResBackpackUnlockMessage://背包解锁结果返回\r\n                // gd.backpack.updateUnlock(data);\r\n                break;\r\n            case net.BackpackModelCMD.CMDResBackpackCoinMessage://返回货币信息\r\n                // gd.backpack.initCoins(data);\r\n                break;\r\n            // case net.IdentifyModelCMD.CMDResIdentifyEquipMessage://鉴定返回            \r\n            //     // gd.forge.onEquipJianDingInfo(data);\r\n            //     break;\r\n            // case net.IdentifyModelCMD.CMDResIdentifySaveMessage://鉴定保存成功返回\r\n            //     gd.forge.onSaveEquipJianDingResult(data);\r\n            //     break;\r\n            // case net.IdentifyModelCMD.CMDResXiLianDecorateMessage://配饰洗练属性变更返回\r\n            //     break;\r\n            case net.BackpackModelCMD.CMDResBackpackMergeMessage:\r\n                // gd.backpack.BagMoveItemRecult(data);\r\n                break;\r\n        }\r\n    }\r\n}","export class DataBase  implements ISubject {\r\n\tpublic constructor() {\r\n\t}\r\n\tprotected _observers: Array<IObserver> = [];\r\n\r\n\taddObserver(observer: IObserver) {\r\n\t\tif (this._observers.indexOf(observer) == -1) {\r\n\t\t\tthis._observers.push(observer);\r\n\t\t}\r\n\t}\r\n\r\n\tremoveObserver(observer: IObserver) {\r\n\t\tlet index: number = this._observers.indexOf(observer);\r\n\t\tif (index > -1) {\r\n\t\t\tthis._observers.splice(index, 1);\r\n\t\t}\r\n\t\t// let len:number = self._observers.length;\r\n\t\t// for(let i:number = 0; i<len; i++){\r\n\t\t// \tlet ob = self._observers[i];\r\n\t\t// \tif(ob === observer){\r\n\t\t// \t\tself._observers.splice(i,1);\r\n\t\t// \t\ti--;\r\n\t\t// \t}\r\n\t\t// }\r\n\t}\r\n\r\n\tsendDelayMsg(cmd: number, data?: any) {\r\n\r\n\t}\r\n\r\n\tsendNotif(cmd: number, data?: any) {\r\n\t\tlet t = this;\r\n\t\t// if (js_gameVars.mylog) {\r\n\t\t// \tlet time: number = new Date().getTime();\r\n\t\t// \tfor (let ob of t._observers) {\r\n\t\t// \t\tob.update(cmd, data);\r\n\t\t// \t}\r\n\t\t// \tlet printstr: string = cmd + \",\" + t._observers.length + \",\" + (new Date().getTime() - time);\r\n\t\t// \t// console.log(printstr);\r\n\t\t// \tgd.debug.observerLog.push(printstr);\r\n\t\t// }\r\n\t\t// else {\r\n\t\t\tfor (let ob of t._observers) {\r\n\t\t\t\tob.update(cmd, data);\r\n\t\t\t}\r\n\t\t// }\r\n\r\n\t}\r\n\r\n\r\n}\r\n","import { DataBase } from \"./DataBase\";\r\n\r\nclass PlayerData extends DataBase {\r\n    public uid: Long;\t\t\t\t\t\t\t// uid\r\n\r\n    public initBaseInfo($data): void {\r\n        this.uid = $data.rid;\r\n        js_gameVars.roleid = $data.rid.toString();//data.uidStr;\r\n    }\r\n}\r\nexport const player = new PlayerData","import { BackpackType } from \"../modules/bag/BackpackType\";\r\n\r\nexport function initMessage() {\r\n    //请求背包数据\r\n    net.BackpackModel.ins().send1(BackpackType.EQUIP);\r\n    net.BackpackModel.ins().send1(BackpackType.FIRST);\r\n    net.BackpackModel.ins().send1(BackpackType.SECOND);\r\n    \r\n}\r\n","class SecondTimerUtil {\r\n\tpublic constructor() {\r\n\t\tthis._tasks = {};\r\n\t}\r\n\r\n\tprivate _tasks: { [key: number]: {task,context} };\r\n\tprivate _lastTime: number;\r\n\tprivate __id: number = 0;\r\n\r\n\tpublic addSecondTask(task): number {\r\n\t\tlet self = this;\r\n\t\tself.__id++;\r\n\t\tself._tasks[self.__id] = task;\r\n\t\treturn self.__id;\r\n\t}\r\n\r\n\tpublic removeTask(id: number): void {\r\n\t\tlet self = this;\r\n\t\tif (id in self._tasks) {\r\n\t\t\tself._tasks[id] = null;\r\n\t\t\tdelete self._tasks[id];\r\n\t\t}\r\n\t}\r\n\r\n\tpublic length(): number {\r\n\t\tlet count: number = 0;\r\n\t\tfor (let key in this._tasks) {\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\treturn count;\r\n\t}\r\n\r\n\tpublic update(): void {\r\n\t\tlet self = this;\r\n\t\tlet now: number = new Date().getTime();\r\n\t\tif (!self._lastTime) {\r\n\t\t\tself._lastTime = now;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet passed: number = now - self._lastTime;\r\n\t\tlet count: number = 3;//卡住一次执行不超过3次,放到下次执行。。防止崩溃\r\n\t\twhile (passed > 1000 && count > 0) {\r\n\t\t\tfor (let key in self._tasks) {\r\n\t\t\t\tif (self._tasks[key])\r\n\t\t\t\t\tself._tasks[key].task.call(self._tasks[key].context);\r\n\t\t\t}\r\n\t\t\tpassed -= 1000;\r\n\t\t\tcount--;\r\n\t\t}\r\n\t\tself._lastTime = now - passed;\r\n\t}\r\n}\r\nexport const secondTimerUtil = new SecondTimerUtil();","import { secondTimerUtil } from \"./SecondTimerUtil\";\r\n\r\nclass ServerData  {\r\n\r\n\t/** 开服天数 */\r\n\tpublic openDay: number = 1;\r\n\t/**开服时间戳（毫秒） */\r\n\tpublic openTime: number;\r\n\t/**合服天数*/\r\n\tpublic hefuDay: number;\r\n\t/**合服时间戳（毫秒）*/\r\n\tpublic hefuTime: number;\r\n\t/**是否合服 */\r\n\tpublic hefu: boolean;\r\n\t/**合服次数 */\r\n\tpublic MergeTimes: number = 0;\r\n\r\n\t//进游戏时服务器时间戳 -毫秒\r\n\tpublic servertime: number;\r\n\t/**是否可以重连 */\r\n\tpublic reconnecting: boolean = false;\r\n\r\n\t/**心跳计次 */\r\n\tprivate _count: number = 0;\r\n\t/**心跳的时间计时器Id */\r\n\tprivate _heartUintID: number = 0;\r\n\t/**当天晚上0点时间戳(需要自己计算) */\r\n\tpublic curZeroTime: number = 0;\r\n\t/**星期几 （1-7对应） */\r\n\tpublic curWeekDay: number = 0;\r\n\r\n\tpublic startGameTime: number = 0;\r\n\t\r\n\t/**进游戏赋值服务器当前时间戳 */\r\n\tpublic SetNowTime(servertime: Long) {\r\n\t\tlet t = this;\r\n\t\tlet time: number = servertime.toNumber();\r\n\t\tlet curWeekDay = new Date(time).getDay();\r\n\t\tt.curWeekDay = curWeekDay == 0 ? 7 : curWeekDay;\r\n\r\n\t\tlet now_data = new Date(time);\r\n\t\tnow_data.setHours(0);\r\n\t\tnow_data.setMinutes(0);\r\n\t\tnow_data.setSeconds(0);\r\n\t\tnow_data.setMilliseconds(0);\r\n\t\tvar timestamp = now_data.getTime();//获取毫秒时间戳\r\n\t\tt.curZeroTime = timestamp + 24 * 60 * 60 * 1000;\r\n\r\n\t\t// t.servertime = time - egret.getTimer();\r\n\r\n\t\tnet.UserModel.ins().send41();\r\n\t}\r\n\r\n\tprivate serverHeartBeat(): void {\r\n\t\tlet t = this;\r\n\t\t// let now: number = egret.getTimer();\r\n\t\t//console.log(\"-------------------------------秒任务\");\r\n\t\tt._count++;\r\n\t\tif (t._count >= 3) {\r\n\t\t\tt._count = 0;\r\n\r\n\t\t\t// console.log('send heart beat  ', new Date().toTimeString());\r\n\t\t\tnet.UserModel.ins().send9();\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tpublic startHeartBeats(): void {\r\n\t\tlet t = this;\r\n\t\tif (t._heartUintID == 0) {\r\n\t\t\tconsole.log(\"开始心跳\")\r\n\t\t\tt._heartUintID = secondTimerUtil.addSecondTask({task:this.serverHeartBeat,context:this});\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic stopHeartBeats(): void {\r\n\t\tlet self = this;\r\n\t\tif (self._heartUintID > 0) {\r\n\t\t\tconsole.log(\"停止心跳\")\r\n\t\t\tsecondTimerUtil.removeTask(self._heartUintID);\r\n\t\t\tself._heartUintID = 0;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic hasHeart() {\r\n\t\treturn this._heartUintID > 0;\r\n\t}\r\n\r\n\t/**心跳*/\r\n\tpublic heart(servertime): void {\r\n\t// public heart(servertime: Long): void {\r\n\t\tlet t = this;\r\n\t\tlet time: number = servertime.toNumber();\r\n\r\n\t\t// t.servertime = time - egret.getTimer();\r\n\r\n\t\t// t.isAnotherDay(time);\r\n\t}\r\n\r\n}\r\n\r\nexport const serverData = new ServerData","import { player } from \"../../gameData/PlayerData\";\r\nimport { enterGame } from \"../../login\";\r\nimport { initMessage } from \"../../net/initMessage\";\r\nimport { serverData } from \"../../qufu/ServerData\";\r\n\r\nexport class UserControl implements IObserver {\r\n\tpublic constructor() { }\r\n\r\n\t// /**先写这后面统一处理 */\r\n\t// public initmessage() {\r\n\r\n\t// }\r\n\r\n\tupdate(cmd: number, data: any): void {\r\n\t\tswitch (cmd) {\r\n\t\t\tcase net.UserModelCMD.CMDResLoginMessage:\r\n\t\t\t\t// gd.serv.heart(data);\r\n\t\t\t\tjs_gameVars.createRoleMsg = data;\r\n\t\t\t\tjs_gameVars.loginSuccess = true;\r\n\t\t\t\t// SceneManager.Instance.changeScene(CreateRoleScence\r\n\t\t\t\tenterGame();\r\n\t\t\t\tbreak;\r\n\t\t\tcase net.UserModelCMD.CMDResHeartMessage:\r\n\t\t\t\t// gd.serv.heart(data);\r\n\t\t\t\tbreak;\r\n\t\t\tcase net.UserModelCMD.CMDResEnterGameMessage://进入游戏成功\r\n\r\n\t\t\t\t// //初始化数据请求，暂时放这边\r\n\t\t\t\t// this.initmessage();\r\n\r\n\t\t\t\t/** var resEnterGameMessage = {};\r\n\t\t\t\t resEnterGameMessage[\"rid\"] = input.readLong();//角色id\r\n\t\t\t\t resEnterGameMessage[\"serverTime\"] = input.readLong();//服务器时间\r\n\t\t\t\t resEnterGameMessage[\"token\"] = input.readString();//token\r\n\t\t\t\t**/\r\n\t\t\t\t// net.RoleModel.ins().send71();//设置\r\n\r\n\t\t\t\t// gd.player.initBaseInfo(data);\r\n\t\t\t\tplayer.initBaseInfo(data);\r\n\t\t\t\tjs_gameVars.loginToken = data.token;\r\n\t\t\t\t\r\n\t\t\t\tserverData.SetNowTime(data.serverTime);\r\n\r\n\t\t\t\tinitMessage();\r\n\t\t\t\t// guim.enterGameTime = egret.getTimer();\r\n\t\t\t\t//net.MapModel.ins().send12();\r\n\t\t\t\t// let isNewPlayer = gd.player.settingDic[constants.E_SETTING_TYPE.NEW_ROLE] && gd.player.settingDic[constants.E_SETTING_TYPE.NEW_ROLE].state;\r\n\t\t\t\t// if (isNewPlayer) {\r\n\t\t\t\t// \tlet time: number = Math.round((DateUtil.serverNow()) / 1000);\r\n\t\t\t\t// \tPlatformManager.Instance.pushCreateRole(js_gameVars.username, data.rid.toString(), time);\r\n\t\t\t\t// \t// PlatformManager.Instance.startFiveMinutesClock();\r\n\t\t\t\t// }\r\n\t\t\t\t// net.RoleModel.ins().send42();\r\n\t\t\t\t// GameStateManager.Instance.changeGameState(GameStateType.Map);\r\n\t\t\t\t// GameStateManager.Instance.changeGameState(GameStateType.Home);\r\n\t\t\t\t// PlatformManager.Instance.loginEvent();\r\n\t\t\t\tbreak;\r\n\t\t\tcase net.UserModelCMD.CMDResRandomNameMessage:\t//随机名字重选\r\n\t\t\t\t// gd.player.setRandomName(data);\r\n\t\t\t\tbreak;\r\n\t\t\tcase net.UserModelCMD.CMDResVersionErrorMessage:\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase net.UserModelCMD.CMDResServerEnvirMessage:\t//服务器开服时间\r\n\t\t\t\t// gd.serv.SetGameOpenday(data);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\r\n}","export class RoleControl implements IObserver {\r\n    public update(cmd: number, data: any): void {\r\n        switch (cmd) {\r\n            case net.RoleModelCMD.CMDResPlayerAttributeChangeMessage:\r\n                // player.attributeChange(data);\r\n                break;\r\n            case net.RoleModelCMD.CMDResPlayerBasicInfoMessage:\r\n                // player.setBaseInfo(data);\r\n\r\n                // if (data.level == 1) {\r\n                //     gd.task.sendNotif(constants.E_DATA_NOTIFY_UIVIEW.UPDATE_TASK_INFO, gd.task.currentMainTask);\r\n                //     if (!Zhu_Bo.iszb) uim.show(Custom_UI_ID.GameStartDialog);\r\n                // } else {\r\n                //     gd.player.waitToStart = false;\r\n                // }\r\n\r\n                // let dserver = gd.serv;\r\n                // if (!dserver.reconnecting) {\r\n\r\n                //     for (let each of js_gameVars.createRoleMsg.roleList) {\r\n                //         if (each.rid.equals(js_gameVars.createRoleMsg.lastSel)) {\r\n                //             gd.player.hair = each.hair;\r\n                //         }\r\n                //     }\r\n                //     GameStateManager.Instance.changeGameState(GameStateType.Home);\r\n                //     let API = js_gameVars.APIlocation;\r\n                //     if (API) {\r\n                //         HttpRequest.request(`${API}kingAPI?action=queryLoginname&platform=${js_gameVars.platform}&operid=${js_gameVars.oper}&type=update&serverid=${js_gameVars.serverid}&loginname=${js_gameVars.username}&rolenum=1`,\r\n                //             (e) => {\r\n                //             }, this);\r\n                //     }\r\n                // } else {\r\n                //     console.log(\"重连成功\");\r\n                //     // Logic.hideAllPopup();\r\n                //     GameEventCenter.Instance.dispatcher(E_GameEvent.ReConnected);\r\n                // }\r\n\r\n                // dserver.reconnecting = false;\r\n                // let time: number = Math.round((dserver.servertime + egret.getTimer()) / 1000);\r\n                // PlatformManager.Instance.apiEnterGame(js_gameVars.username, js_gameVars.roleid, time);\r\n                break;\r\n            case net.RoleModelCMD.CMDResPlayerLevelChangeMessage:\r\n                // if (emIns.firstPlayer && gd.player.uid.equals(data.uid)) {\r\n                //     gd.player.setExpLevelUID(data);\r\n                // } else {\r\n                //     gd.yuanshen.setYuanshengLevelUp(data);\r\n                // }\r\n                break;\r\n            case net.RoleModelCMD.CMDResRoleReinInfoMessage:\r\n                // player.updatePlayerState(data);\r\n                break;\r\n            case net.RoleModelCMD.CMDResRoleReinUpgradeMessage:\r\n                if (data.result == 0) {\r\n                    console.error(\"提升修为失败\");\r\n                }\r\n                break;\r\n            // case net.DevilInvadeModelCMD.CMDResDevilInvadeInfoMessage:\r\n            //     gd.player.updateDevilInvadeInfoMessage(data);\r\n            //     break;\r\n            case net.RoleModelCMD.CMDResRoleSettingMessage://返回所有设置信息\r\n                // gd.shezhi.setRoleSettingCommon(data);\r\n                break;\r\n            case net.RoleModelCMD.CMDResRoleSettingUpdateMessage://返回当前设置信息\r\n                // gd.shezhi.changeRoleSettingCommon(data);\r\n                break;\r\n            case net.RoleModelCMD.CMDResRolePickSettingMessage://返回角色拾取信息\r\n                // gd.shezhi.changeRoleSettingCommon(data);\r\n                break;\r\n            // case net.PickupModelCMD.CMDResRolePickingSettingMessage://返回拾取信息\r\n            //     gd.shezhi.changeRolePickUpTotalInfo(data);\r\n            //     break;\r\n            // case net.PickupModelCMD.CMDResRolePickingSettingUpdateMessage://返回修改设置信息\r\n            //     gd.shezhi.changeRolePickUpTotalInfo(data);\r\n            //     break;\r\n            // case net.AuthenticationModelCMD.CMDResAuthenticationStatusMessage://返回二级密码信息\r\n            //     gd.player.shezhierjimima = data;\r\n            //     gd.player.sendNotif(constants.E_DATA_NOTIFY_UIVIEW.ERJIMIMA_UPDATE, data);\r\n            //     break;\r\n            // case net.AuthenticationModelCMD.CMDResAuthenticationErrorMessage://返回需要密码提示\r\n            //     gd.player.sendNotif(constants.E_DATA_NOTIFY_UIVIEW.ERJIMIMA_CONFIRM, data);\r\n            //     if (data == 0 || data == 1) {\r\n            //         if (data == 0) {\r\n            //             if (gd.player.shezhierjimima) {\r\n            //                 uim.showOrHide(Custom_UI_ID.YanzhengErjimimaPop);\r\n            //             } else {\r\n            //                 uim.showOrHide(UI_ID.ER_JI_MI_MA);\r\n            //             }\r\n            //         } else {\r\n            //             uim.showOrHide(Custom_UI_ID.YanzhengErjimimaPop);\r\n            //         }\r\n            //     }\r\n            //     break;\r\n            // case net.RoleModelCMD.CMDResRoleAtkInfoMessage://返回玩家攻击信息\r\n            //     gd.player.PlayerMaxAtk = data.toNumber();\r\n            //     break;\r\n            // case net.SkillStrengthenModelCMD.CMDResSkillStrengthenMessage://返回玩家技能强化信息\r\n            //     gd.player.updateSkillStrengthenInfo(data);\r\n            //     break;\r\n        }\r\n    }\r\n}","import { BackpackControl } from \"./backpack/BackpackControl\";\r\nimport { UserControl } from \"./login/UserControl\";\r\nimport { RoleControl } from \"./role/RoleControl\";\r\n\r\nclass GameObserverManager {\r\n\r\n    public constructor() {\r\n    }\r\n\r\n\r\n    public initNetObservers(): void {\r\n        let control: IObserver = new UserControl();\r\n        net.UserModel.ins().addObserver(control);\r\n\r\n        control =  new RoleControl();\r\n        net.RoleModel.ins().addObserver(control);\r\n\r\n        control =  new BackpackControl();\r\n        net.BackpackModel.ins().addObserver(control);\r\n    }\r\n}\r\n\r\nexport const gameObserverManager= new GameObserverManager","export class MessageHandler implements IReceiveHandler {\r\n\tpublic constructor() {\r\n\t}\r\n\tprivate _cmdHandlers: { [key: number]: ICMDHandler } = {};\r\n\r\n\tpublic received(cmd: number, bytes: egret_ByteArray.ByteArray): void {\r\n\r\n\t\tlet handler: ICMDHandler = this._cmdHandlers[cmd];\r\n\t\tif (handler) {\r\n\t\t\t// if (js_gameVars.mylog) {\r\n\t\t\t// \tlet time: number = new Date().getTime();\r\n\t\t\t// \t// console.log(\"收到消息:\" + cmd);\r\n\t\t\t// \thandler.dealBufferMessage(cmd, bytes);\r\n\t\t\t// \tlet printStr: string = cmd + \",\" + (new Date().getTime() - time);\r\n\t\t\t// \t// console.log(printStr);\r\n\t\t\t// gd.debug.messageLog.push(printStr);\r\n\t\t\t// }\r\n\t\t\t// else {\r\n\t\t\thandler.dealBufferMessage(cmd, bytes);\r\n\t\t\t// }\r\n\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// if (DEBUG) {\r\n\t\t\t// \t//\tthrow new Error(\"内部消息错误：服务端发来异常消息\" + cmd);\r\n\t\t\t// \tconsole.log(\"消息错误\" + cmd);\r\n\t\t\t// }\r\n\t\t\t// else {\r\n\t\t\t\tconsole.log(\"消息错误\" + cmd);\r\n\t\t\t\tbytes.position = bytes.length;\r\n\t\t\t// }\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tpublic connected(newConnect: boolean = true): void {\r\n\t\t// console.log(gd.serv.reconnecting, js_gameVars.createRoleMsg.lastSel, js_gameVars.loginToken);\r\n\t\t// if (gd.serv.reconnecting) {//重连\r\n\t\t// \tuim.hide(Custom_UI_ID.HelpTipsDialog);\r\n\t\t// \tnet.UserModel.ins().send8(js_gameVars.createRoleMsg.lastSel, js_gameVars.loginToken);\r\n\t\t// \t// net.UserModel.ins().send1(js_gameVars.username, js_gameVars.serverid, js_gameVars.platform, js_gameVars.client, \"\", js_gameVars.ip, js_gameVars.middleVersion, js_gameVars.channel, js_gameVars.qudao, js_gameVars.is_adult, js_gameVars.token);\r\n\t\t// }\r\n\t\t// else if (newConnect) {\r\n\t\t// \tGameStateManager.Instance.changeGameState(GameStateType.Login);\r\n\t\t// }\r\n\t\t// gd.serv.startHeartBeats();\r\n\t}\r\n\r\n\tpublic registerHandler(cmd: number, handler: ICMDHandler): void {\r\n\t\tthis._cmdHandlers[cmd] = handler;\r\n\t}\r\n\r\n\tpublic disConnect(): void {\r\n\t\t// GameEventCenter.Instance.dispatcher(E_GameEvent.DisConnect);\r\n\t}\r\n\r\n\tpublic connectError(): void {\r\n\t\t// GameEventCenter.Instance.dispatcher(E_GameEvent.ConnectFaild);\r\n\t}\r\n}\r\n\r\nexport interface ICMDHandler {\r\n\tdealBufferMessage(cmd: number, content: egret_ByteArray.ByteArray): void;\r\n}","import { login } from \"../login\";\r\nimport { gameObserverManager } from \"../gameControl/GameObserverManager\";\r\nimport { MessageHandler } from \"../net/MessageHandler\";\r\n\r\nclass GameSocket {\r\n    private _webSocket: egret_WebSocket.WebSocket;\r\n    protected _byteArray: egret_ByteArray.ByteArray;\r\n    private _handler: MessageHandler;\r\n    get handler() { return this._handler }\r\n\r\n    constructor() {\r\n        this.init()\r\n    }\r\n\r\n    init() {\r\n        const websocket = this._webSocket = new egret_WebSocket.WebSocket();\r\n        websocket.addEventListener(/**egret.Event.CONNECT*/ 'connect', this.onSocketOpen, this);\r\n        websocket.addEventListener(/**egret.IOErrorEvent.IO_ERROR*/'ioError', this.onConnectError, this);\r\n        websocket.addEventListener(/**egret.Event.CLOSE*/'close', this.onDisConnect, this);\r\n        websocket.addEventListener(/**egret.ProgressEvent.SOCKET_DATA*/'socketData', this.onReceiveMessage, this);\r\n        websocket.type = egret_WebSocket.WebSocket.TYPE_BINARY;\r\n    }\r\n\r\n    connect(host: string, port: number) {\r\n        this._webSocket.connect(host, port);//注意这里的host参数没有ws前缀。\r\n    }\r\n\r\n    setHandler(handler: MessageHandler): void {\r\n        this._handler = handler;\r\n    }\r\n    private onReceiveMessage(e: egret_Event.Event): void {\r\n        if (!this._byteArray) this._byteArray = new egret_ByteArray.ByteArray();\r\n        this._byteArray.clear();\r\n        this._webSocket.readBytes(this._byteArray);\r\n        while (this._byteArray.bytesAvailable) {\r\n            let size: number = this._byteArray.readInt() - 4;\r\n            if (!size || this._byteArray.bytesAvailable < size) break;\r\n            let p = this._byteArray.position + size;\r\n            let cmd: number = this._byteArray.readInt();\r\n            console.log(`onReceiveMessage cmd:${cmd}`);\r\n            let msgid: number = this._byteArray.readShort();\r\n            this._handler.received(cmd, this._byteArray);\r\n            this._byteArray.position = p;\r\n        }\r\n    }\r\n\r\n    /**跟 服务器连接成功后 执行的子程序*/\r\n    private onSocketOpen(e: egret_Event.Event): void {\r\n        //正确建立连接；\r\n        console.log('正确建立连接:', e.currentTarget.socket.socket.url);\r\n        // serverData.startHeartBeats();\r\n        gamesocket.setHandler(new MessageHandler());\r\n        gameObserverManager.initNetObservers();\r\n\r\n        login();\r\n    }\r\n    public onConnectError(e: egret_Event.Event): void {\r\n        console.log(\"连接出错\");\r\n    }\r\n    public onDisConnect(e: any): void {\r\n        console.log(\"断开连接\");\r\n    }\r\n    // private receiveHandler(msg: any = null): void {\r\n    //     ///接收到数据触发函数\r\n    //     console.log('receiveHandler');\r\n    // }\r\n    // private closeHandler(e: any = null): void {\r\n    //     //关闭事件\r\n    //     console.log('closeHandler');\r\n    // }\r\n    // private errorHandler(e: any = null): void {\r\n    //     //连接出错\r\n    //     console.log('errorHandler');\r\n    // }\r\n\r\n    /**向 服务器 发送数据*/\r\n    public sendData(cmd: any, bytes: egret_ByteArray.ByteArray = null): void {\r\n        let ws = this._webSocket;\r\n        if (!ws.connected) {\r\n            return;\r\n        }\r\n        console.log(`sendData cmd:${cmd}`);\r\n        var size: number = 10;\r\n        if (bytes != null) {\r\n            bytes.position = 0;\r\n            size += bytes.length;\r\n        }\r\n        var buffer = new egret_ByteArray.ByteArray();\r\n        buffer.writeInt(size);\r\n        buffer.writeInt(cmd);\r\n        buffer.writeShort(1);\r\n        if (bytes != null) {\r\n            buffer.writeBytes(bytes);\r\n        }\r\n        // setTimeout(function() {\r\n        ws.writeBytes(buffer);\r\n        // ws.flush();\r\n        // }, 1);\r\n    }\r\n}\r\n\r\nexport const gamesocket = window['gamesocket'] = new GameSocket()","import { config } from \"./config/config\";\r\nimport GameConfig from \"./GameConfig\";\r\nimport { gameinit } from \"./init/gameinit\";\r\nimport { gamesocket } from \"./qufu/GameSocket\";\r\nimport { secondTimerUtil } from \"./qufu/SecondTimerUtil\";\r\n\r\nclass Main {\r\n\tconstructor() {\r\n\t\t//根据IDE设置初始化引擎\t\t\r\n\t\tif (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height);\r\n\t\telse Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n\t\tLaya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n\t\tLaya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n\r\n\t\t// Laya.stage.scaleMode = GameConfig.scaleMode;\r\n\t\t// Laya.stage.screenMode = GameConfig.screenMode;\r\n\t\tLaya.stage.scaleMode = Laya.Stage.SCALE_FIXED_HEIGHT;\r\n\t\tLaya.stage.screenMode = Laya.Stage.SCREEN_VERTICAL;\r\n\r\n\r\n\t\t// Laya.stage.alignV = Laya.Stage.ALIGN_MIDDLE;\r\n\t\t// Laya.stage.alignH = Laya.Stage.ALIGN_CENTER;\r\n\t\t// Laya.stage.alignV = GameConfig.alignV;\r\n\t\t// Laya.stage.alignH = GameConfig.alignH;\r\n\r\n\t\tLaya.stage.bgColor = \"#333333\";\r\n\t\t//兼容微信不支持加载scene后缀场景\r\n\t\tLaya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n\r\n\t\t//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）\r\n\t\tif (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\r\n\t\tif (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\r\n\t\tif (GameConfig.stat) Laya.Stat.show();\r\n\t\t//Laya.alertGlobalError = true;\r\n\r\n\t\t//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程\r\n\t\tLaya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\r\n\t}\r\n\r\n\tonVersionLoaded(): void {\r\n\t\t//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图\r\n\t\t// Laya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\r\n\t\tthis.onConfigLoaded();\r\n\t}\r\n\r\n\tonConfigLoaded(): void {\r\n\t\t//加载IDE指定的场景\r\n\t\t//GameConfig.startScene && Laya.Scene.open(GameConfig.startScene);\r\n\r\n\t\tLaya.stage.addChild(fgui.GRoot.inst.displayObject);\r\n\r\n\t\tgameinit();\r\n\r\n\t\tgamesocket.connect(config.ip, config.port);\r\n\r\n\t\tconst intervalId = setInterval(() => {\r\n\t\t\tsecondTimerUtil.update();\r\n\t\t}, 500);\r\n\r\n\t}\r\n\r\n\r\n\r\n}\r\n//激活启动类\r\nnew Main();\r\n\r\nconsole.log('game start!');"],"names":["config"],"mappings":"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"}